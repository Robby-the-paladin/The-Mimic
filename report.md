# Постановка задачи
хз чё это
# Описание
Проект состоит из двух частей: игры и редактора уровней для неё

Основная часть проекта - игра с двумерной графикой с видом сверху от третьего лица в жанре stealth-action (https://en.wikipedia.org/wiki/Stealth_game). Игроку предоставляется возможность управлять монстром, который может дпередвигаться и получать контроль над второстепенными персонажами, переселяясь в них. 
Цель игрока - пройти от начальной точки уровня к конечной, оставаясь при этом в живых

Вторая часть - редактор уровней, которые могут использоваться в игре

Механики, реализованные в игре:
* Перемещение с учётом коллизии со стенами. Стены представлены как сетка, в каждой клетке сетки может находиться стена, либо не находиться
* Тайлы. В каждой клетке карты находится изображение, состоящее из двух слоёв
* Модуль управления, привязывающийся к любому персонажу. Персонажем является Монстр, либо человек
* Здоровье и получение урона. У каждого персонажа есть шкала здоровья, которое снижается при получении персонажем урона. Когда здоровье становится не больше нуля, персонаж погибает
* Стрельба
  * Стрельба биомассой - ей может стрелять монстр, при помощи неё осуществляется взятие контроля над другим персонажем. Для стрельбы биомассой реализована механика "рогатки" - чем дольше пользователь зажимает клавишу выстрела, тем больше будет скорость снаряда
  * Стрельба оружия. Оружием владеют солдаты и могут применять его против игрока, либо же игрок может применять его, взяв контроль над солдатом. Для ограничения стрельбы оружия реализована механика перезарядки и смены обойм
  * Для ограничения дальности полёта снаряда используется его торможение с помощью формулы вязкого трения **$V' = - a V$**
* Анимации. Реализовано 2 вида анимаций, состоящих из множества кадров:
  * Анимации персонажей. Анимация пероснажа представляет из себя конечный автомат, где в каждой вершине находится кадр анимации и каждый ход совершается переход к новой вершине в зависимости от состояния персонажа. Например, влияет направление движения
  * "Анимации-призраки". Временные анимации, состоящие из зацикленного набора кадров. Определяются начальным и конечным состояниеми и временем существования. Состояние включает в себя позицию, размер, угол наклона, прозрачность. 
* Камера. Локации в игре большие, поэтому требуется перемещение камеры, которая сможет наводиться на разные участки локации. Камера реализована на уровне модуля отрисовки, все объекты отображаются с учётом текущего расположения камеры
* Освещение. Реализована механика динамического освещения. На игровой карте расположены источники света, каждый обладающей своей интенсивностью. Динамически расчитывается освещение для каждой клетки. При отрисовке освещение сглаживается между клетками и вышлядит плавным. Источники света могут менять свою интенсивность в процессе игры
* Звуки. К каждому действию в игре может быть привязан звук, который воспроизводится при выполнении действия
* Настороженность. У каждого человеческого персонажа есть шкала настороженности, которая влияет на его поведение
* Триггеры. Некоторые события создают объект Trigger, который Может быть замечен человеческими персонажами и поднять их настороженность
* Искуственный интеллект. Человеческие персонажи управляются искусственным интеллектом. Искуственный интеллект изолирован от прямого взаимодейстивя с характеристиками персонажа (позиция, направление движения). Вместо этого он оперирует коммадами, которые впоследстивии обрабатываются в классе персонажа. ИИ может выполнять следующие действия:
  * Прокладывание пути и следование до конкретной точки
  * Ожидание
  * Преследование и атака
  
  У ИИ может быть несколько моделей поведения. Каждая модель поведения - последовательность действий (например, несколько точек, которые надо по-очереди посетить). В игре у каждого персонажа определено 2 модели: стандартная и паническая. Если настороженность выше определённого предела, используется паническая модель, иначе стандартная

Механики, реализованные в редакторе уровней:
* Управление камерой
* Возможность постановки тайлов
* Возможность комбинации тайлов из 2х изображений. Изображения можно выбирать из 3х разных палитр: потолков, стен и полов.
* Режим демонстрации коллизии. В нём подсвечиваются тайлы, обладающие коллизией (через которые не может пройти персонаж)
* Изменение размеров карты
* Постановка персонажей
* Редактирование моделей поведения персонажей. Отдельно редактируются паническая и стандартная модели. Можно добавлять действия, удалять их и менять порядок, использую технологию drag & drop

Дополнительные механики:
* Скрипт для разворачивания изображений из атласа. Художнику удобнее работать с набором похожих картинок в одном файле (например, с кадрами одной анимации). В игру картинки загружаются по-отдельности. Поэтому был создан скрипт для разделения одной картинки на несколько с соблюдением правил названия для корректной загрузки в игру

# Архитектура
